-- Configurações iniciais
local ScreenGui = Instance.new("ScreenGui")
local OpenCloseButton = Instance.new("TextButton")
local Panel = Instance.new("Frame")

-- Propriedades da UI
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "BrookhavenHub"

OpenCloseButton.Parent = ScreenGui
OpenCloseButton.Size = UDim2.new(0, 100, 0, 50)
OpenCloseButton.Position = UDim2.new(0, 20, 0, 20)
OpenCloseButton.Text = "Abrir Painel"
OpenCloseButton.BackgroundColor3 = Color3.new(0, 0, 0)
OpenCloseButton.TextColor3 = Color3.new(1, 1, 1)

Panel.Parent = ScreenGui
Panel.Size = UDim2.new(0, 300, 0, 500)
Panel.Position = UDim2.new(0.5, -150, 0.5, -250)
Panel.Visible = false
Panel.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)

-- Botão para abrir/fechar o painel
OpenCloseButton.MouseButton1Click:Connect(function()
    Panel.Visible = not Panel.Visible
    OpenCloseButton.Text = Panel.Visible and "Fechar Painel" or "Abrir Painel"
end)

-- Função utilitária para criar botões
local function createButton(name, position, callback)
    local Button = Instance.new("TextButton")
    Button.Parent = Panel
    Button.Size = UDim2.new(0, 280, 0, 30)
    Button.Position = position
    Button.Text = name
    Button.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    Button.TextColor3 = Color3.new(1, 1, 1)
    Button.MouseButton1Click:Connect(callback)
    return Button
end

-- Função utilitária para criar textboxes com título
local function createLabeledTextBox(name, position, placeholder, callback)
    local Label = Instance.new("TextLabel")
    Label.Parent = Panel
    Label.Size = UDim2.new(0, 100, 0, 30)
    Label.Position = position
    Label.Text = name
    Label.TextScaled = true
    Label.BackgroundTransparency = 1
    Label.TextColor3 = Color3.new(1, 1, 1)

    local TextBox = Instance.new("TextBox")
    TextBox.Parent = Panel
    TextBox.Size = UDim2.new(0, 150, 0, 30)
    TextBox.Position = position + UDim2.new(0, 110, 0, 0)
    TextBox.PlaceholderText = placeholder
    TextBox.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    TextBox.TextColor3 = Color3.new(1, 1, 1)
    TextBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            callback(TextBox.Text)
        end
    end)
    return TextBox
end

-- Variável para armazenar o jogador-alvo
local currentTarget = nil

-- Funções do Painel
createButton("ESP Players (Vermelho)", UDim2.new(0, 10, 0, 10), function()
    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= game.Players.LocalPlayer and player.Character then
            local highlight = Instance.new("Highlight")
            highlight.Parent = player.Character
            highlight.FillColor = Color3.new(1, 0, 0)
        end
    end
end)

createLabeledTextBox("Velocidade", UDim2.new(0, 10, 0, 50), "Digite valor", function(value)
    local speed = tonumber(value)
    if speed then
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = speed
    end
end)

createLabeledTextBox("Altura Pulo", UDim2.new(0, 10, 0, 90), "Digite valor", function(value)
    local jump = tonumber(value)
    if jump then
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = jump
    end
end)

createLabeledTextBox("Gravidade", UDim2.new(0, 10, 0, 130), "Digite valor", function(value)
    local gravity = tonumber(value)
    if gravity then
        workspace.Gravity = gravity
    end
end)

createLabeledTextBox("Vel. Carro", UDim2.new(0, 10, 0, 170), "Digite valor", function(value)
    local carSpeed = tonumber(value)
    local vehicle = game.Players.LocalPlayer.Character:FindFirstChildOfClass("VehicleSeat")
    if carSpeed and vehicle then
        vehicle.MaxSpeed = carSpeed
    end
end)

createLabeledTextBox("Nickname", UDim2.new(0, 10, 0, 210), "Digite nome", function(value)
    currentTarget = value
end)

createButton("Ver Tela do Jogador", UDim2.new(0, 10, 0, 250), function()
    if currentTarget then
        local targetPlayer = game.Players:FindFirstChild(currentTarget)
        if targetPlayer and targetPlayer.Character then
            workspace.CurrentCamera.CameraSubject = targetPlayer.Character:FindFirstChild("Humanoid")
            print("Observando tela de:", targetPlayer.Name)
        else
            print("Jogador não encontrado.")
        end
    else
        print("Insira um nickname primeiro.")
    end
end)

createButton("Voltar Tela Normal", UDim2.new(0, 10, 0, 290), function()
    workspace.CurrentCamera.CameraSubject = game.Players.LocalPlayer.Character:FindFirstChild("Humanoid")
    print("Tela normal restaurada.")
end)
